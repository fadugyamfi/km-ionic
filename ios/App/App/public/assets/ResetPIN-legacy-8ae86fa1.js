System.register(["./index-legacy-cc225d81.js","./KolaYellowButton-legacy-095e43ab.js","./form-legacy-bf32c8f1.js","./PinEntryField-legacy-8986b217.js"],(function(e,n){"use strict";var i,t,l,a,o,s,r,u,d,c,p,f,h,m,g,_,b,P,y,w,I,v,E,U;return{setters:[e=>{i=e.d,t=e.u,l=e.a,a=e.v,o=e.z,s=e.D,r=e.E,u=e.c,d=e.w,c=e.b,p=e.o,f=e.e,h=e.p,m=e.j,g=e.k,_=e.f,b=e.t,P=e.I,y=e.g,w=e.h,I=e.i},e=>{v=e.K},e=>{E=e.u},e=>{U=e.P}],execute:function(){const n={style:{"font-size":"14px"}},V={style:{"margin-top":"50px"}};e("default",i({__name:"ResetPIN",setup(e){const i=t(),j=l(),R=a(),$=E({phone_number:j.verification.phone_number,pin:"",pin_confirmation:""}),k=o((()=>4==$.fields.pin.length&&4==$.fields.pin_confirmation.length&&$.fields.pin_confirmation==$.fields.pin)),x=s();return r((()=>{j.verification.phone_number||(R.showError("auth.resetPin.phoneNumberRequired"),i.replace("/auth/login"))})),(e,t)=>(p(),u(c(I),null,{default:d((()=>[f(c(g),{class:"ion-no-border"},{default:d((()=>[f(c(h),null,{default:d((()=>[f(c(m),{slot:"start"})])),_:1})])),_:1}),f(c(P),{class:"ion-padding"},{default:d((()=>[_("h3",null,b(e.$t("auth.resetPin.resettingYourPIN")),1),_("p",n,b(e.$t("auth.resetPin.pleaseEnterAndConfirmYourNewPin")),1),_("div",V,[f(U,{name:"pin",label:e.$t("signup.shopper.newPinCode"),modelValue:c($).fields.pin,"onUpdate:modelValue":t[0]||(t[0]=e=>c($).fields.pin=e)},null,8,["label","modelValue"]),f(U,{name:"pin_confirmation",label:e.$t("signup.shopper.confirmPinCode"),modelValue:c($).fields.pin_confirmation,"onUpdate:modelValue":t[1]||(t[1]=e=>c($).fields.pin_confirmation=e)},null,8,["label","modelValue"])])])),_:1}),f(c(w),{class:"ion-padding"},{default:d((()=>[f(v,{disabled:!k.value,onClick:t[2]||(t[2]=e=>(async()=>{try{await j.changePin($.fields)?(R.showSuccess(x.t("auth.resetPin.pinSuccessfullyReset")),setTimeout((async()=>{R.blockUI(x.t("auth.resetPin.loadingYourAccountInfo")),await j.fetchUserInfo(),await j.fetchUserBusinesses(),i.replace("/shopper"),R.unblockUI()}),500)):R.showError(x.t("auth.resetPin.pinResetFailed"))}catch(e){R.showError(x.t("auth.resetPin.pinResetFailed"))}})())},{default:d((()=>[y(b(e.$t("general.continue")),1)])),_:1},8,["disabled"])])),_:1})])),_:1}))}}))}}}));
