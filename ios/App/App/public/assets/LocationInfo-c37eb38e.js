import{d as H,i as L,k as T,p as w,F as N,j as P,G as q,I as O,H as R,J as U,h,l as A,q as E,L as G,U as K,V as Y,r as j,a3 as z,M as D,s as J,v as M,_ as W,x as t,o as u,c as d,w as a,e as s,f as X,K as i,g as m,t as p,A as _,X as Q,Y as Z}from"./index-f92ce253.js";import{F as x}from"./FooterNavigation-702824f8.js";import{u as oo}from"./form-59f00665.js";import{u as no}from"./BusinessStore-3612150a.js";import{u as eo}from"./LocationStore-7a6561ad.js";import{H as to}from"./HeaderArea-a6edf1a2.js";import{u as so}from"./useGeolocation-a393827f.js";import"./KolaWhiteButton-71dee6cb.js";import"./KolaYellowButton-490da95d.js";import"./Product-5dbe9562.js";import"./index-ee3c01c5.js";const ao=H({components:{IonPage:L,IonHeader:T,IonToolbar:w,IonButtons:N,IonBackButton:P,IonTitle:q,IonContent:O,IonCard:R,IonCardContent:U,IonFooter:h,FooterNavigation:x,IonInput:A,IonLabel:E,IonIcon:G,IonSelect:K,IonSelectOption:Y,IonButton:j,HeaderArea:to},data(){return{location:z,navigateOutline:D,regions:[],form:oo({})}},computed:{...J(no,eo)},methods:{async loadRegions(){this.regions=await this.locationStore.fetchRegions(this.businessStore.registration.country_id)},async getCurrentLocation(){const o=M(),{getCurrentLocation:n}=so();try{const r=await n();r&&(this.businessStore.registration.location="".concat(r.coords.latitude,", ").concat(r.coords.longitude),this.businessStore.registration.gps="".concat(r.coords.latitude,", ").concat(r.coords.longitude))}catch(r){o.showError("Cannot retrieve location info"),console.log(r)}},onContinue(){this.form.hasErrors()||(this.businessStore.cacheRegistrationInfo(),this.$router.push("/signup/vendor/stock-info"))}},mounted(){this.loadRegions(),this.businessStore.loadCachedRegistrationInfo()}});function ro(o,n,r,io,lo,uo){const g=t("IonBackButton"),I=t("IonButtons"),f=t("IonTitle"),c=t("IonToolbar"),b=t("IonHeader"),v=t("HeaderArea"),l=t("IonInput"),S=t("IonIcon"),C=t("IonButton"),B=t("IonSelectOption"),k=t("IonSelect"),$=t("IonContent"),y=t("FooterNavigation"),V=t("IonFooter"),F=t("IonPage");return u(),d(F,null,{default:a(()=>[s(b,{class:"ion-no-border"},{default:a(()=>[s(c,null,{default:a(()=>[s(I,{slot:"start"},{default:a(()=>[s(g,{defaultHref:"/signup/vendor/brand-info"})]),_:1}),s(f)]),_:1})]),_:1}),s($,{class:"ion-padding"},{default:a(()=>[s(v,{title:o.$t("signup.vendor.yourLocation"),subtext:o.$t("signup.vendor.summary.weWantToGetToKnowYourBusiness")},null,8,["title","subtext"]),X("main",null,[s(l,{class:i(["kola-input",{"ion-invalid ion-touched":o.form.errors.location}]),label:o.$t("signup.vendor.businessHeadquarters"),labelPlacement:"stacked",fill:"solid",name:"location",modelValue:o.businessStore.registration.location,"onUpdate:modelValue":n[0]||(n[0]=e=>o.businessStore.registration.location=e),onIonChange:n[1]||(n[1]=e=>o.form.validate(e)),onIonBlur:n[2]||(n[2]=e=>o.form.validate(e)),required:""},null,8,["class","label","modelValue"]),s(C,{fill:"clear",color:"primary",style:{"text-transform":"none"},class:"ion-margin-bottom",onClick:n[3]||(n[3]=e=>o.getCurrentLocation())},{default:a(()=>[s(S,{icon:o.navigateOutline,style:{"margin-right":"5px"}},null,8,["icon"]),m(" "+p(o.$t("signup.vendor.location.useCurrentLocation")),1)]),_:1}),s(k,{class:i(["kola-input ion-margin-bottom",{"ion-invalid ion-touched":o.form.errors.region_id}]),label:o.$t("signup.vendor.region"),labelPlacement:"stacked",fill:"solid",modelValue:o.businessStore.registration.region_id,"onUpdate:modelValue":n[4]||(n[4]=e=>o.businessStore.registration.region_id=e),required:"",name:"region_id",onIonChange:n[5]||(n[5]=e=>o.form.validateSelectInput(e))},{default:a(()=>[(u(!0),_(Z,null,Q(o.regions,e=>(u(),d(B,{key:e.id,value:e.id},{default:a(()=>[m(p(e.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["label","class","modelValue"]),s(l,{class:i(["kola-input ion-margin-bottom",{"ion-invalid ion-touched":o.form.errors.city}]),label:o.$t("signup.vendor.city"),labelPlacement:"stacked",fill:"solid",name:"city",modelValue:o.businessStore.registration.city,"onUpdate:modelValue":n[6]||(n[6]=e=>o.businessStore.registration.city=e),onIonBlur:n[7]||(n[7]=e=>o.form.validate(e)),onIonChange:n[8]||(n[8]=e=>o.form.validate(e)),required:""},null,8,["class","label","modelValue"]),s(l,{class:i(["kola-input ion-margin-bottom",{"ion-invalid ion-touched":o.form.errors.tax_number}]),label:o.$t("signup.vendor.tinNumber"),labelPlacement:"stacked",fill:"solid",name:"tax_number",modelValue:o.businessStore.registration.tax_number,"onUpdate:modelValue":n[9]||(n[9]=e=>o.businessStore.registration.tax_number=e),onIonBlur:n[10]||(n[10]=e=>o.form.validate(e)),onIonChange:n[11]||(n[11]=e=>o.form.validate(e)),required:""},null,8,["class","label","modelValue"])])]),_:1}),s(V,{class:"ion-padding ion-no-border"},{default:a(()=>[s(y,{onContinue:n[12]||(n[12]=e=>o.onContinue())})]),_:1})]),_:1})}const ko=W(ao,[["render",ro]]);export{ko as default};
