!function(){function t(t,n,i){return(n=function(t){var n=function(t,n){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:String(n)}(n))in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}System.register(["./index-legacy-cc225d81.js","./Date-legacy-65bfc294.js","./KolaYellowButton-legacy-095e43ab.js","./disappointed-legacy-3c538a21.js"],(function(n,i){"use strict";var o,e,a,c,l,r,s,f,d,u,m,g,p,h,I,b,v,y,k,N,_,w,O,S,x,C,L,B,j,G,z,E,K,T,V,Y,D,P,W,A,q,F,H,M;return{setters:[t=>{o=t.d,e=t.L,a=t.N,c=t.q,l=t.aw,r=t.a$,s=t.aV,f=t.b0,d=t._,u=t.x,m=t.o,g=t.c,p=t.w,h=t.e,I=t.f,b=t.t,v=t.ax,y=t.A,k=t.X,N=t.Y,_=t.a5,w=t.a6,O=t.I,S=t.g,x=t.b1,C=t.F,L=t.r,B=t.k,j=t.p,G=t.G,z=t.aO,E=t.aN,K=t.m,T=t.as,V=t.b2,Y=t.s,D=t.b3,P=t.B,W=t.R,A=t.S,q=t.b4},t=>{F=t.r},t=>{H=t.K},t=>{M=t._}],execute:function(){var i=document.createElement("style");i.textContent=".notification-item ion-icon[data-v-c82c15df]{padding:5px;border-radius:50%;align-items:center;display:flex;justify-content:center;margin-right:10px}.notification-item.success ion-icon[data-v-c82c15df]{background-color:rgba(33,209,136,.184);color:#21d187}.notification-item.error ion-icon[data-v-c82c15df]{background-color:rgba(255,45,45,.275);color:#ff2d2d}.notification-item ion-label[data-v-c82c15df]{font-weight:400}.notification-item ion-label header[data-v-c82c15df]{font-size:.9em}.notification-item ion-label footer[data-v-c82c15df]{font-size:.75em;color:#9b9ea0}ion-segment ion-segment-button[data-v-1719f3ad]{padding-top:.4em;padding-bottom:.4em}\n",document.head.appendChild(i);const R=o({props:["notification"],components:{IonIcon:e,IonItem:a,IonLabel:c},data:()=>({checkmarkCircleOutline:l,checkmark:r,checkmarkCircle:s,warningOutline:f}),methods:{format:t=>F(t)}});const U=d(R,[["render",function(t,n,i,o,e,a){const c=u("IonIcon"),l=u("IonLabel"),r=u("IonItem");return m(),g(r,{class:"notification-item success"},{default:p((()=>[h(c,{slot:"start",icon:t.checkmarkCircleOutline},null,8,["icon"]),h(l,null,{default:p((()=>{var n,i;return[I("header",null,b(null===(n=t.notification)||void 0===n?void 0:n.title),1),I("footer",null,b(t.format(null===(i=t.notification)||void 0===i?void 0:i.created_at)),1)]})),_:1})])),_:1})}],["__scopeId","data-v-c82c15df"]]),X=o({props:["notifications"],components:{IonList:v,IonItem:a,IonLabel:c,IonIcon:e,NotificationItem:U},data:()=>({checkmarkCircleOutline:l,checkmark:r,checkmarkCircle:s,warningOutline:f})});const $=d(X,[["render",function(t,n,i,o,e,a){const c=u("NotificationItem"),l=u("IonList");return m(),g(l,{lines:"none"},{default:p((()=>[(m(!0),y(N,null,k(t.notifications,(t=>(m(),g(c,{notification:t,key:t.id},null,8,["notification"])))),128))])),_:1})}]]),J=o({props:["notifications"],components:{IonList:v,IonItem:a,IonLabel:c,IonIcon:e,NotificationItem:U},data:()=>({checkmarkCircleOutline:l,checkmark:r,checkmarkCircle:s,warningOutline:f})});const Q=d(J,[["render",function(t,n,i,o,e,a){const c=u("NotificationItem"),l=u("IonList");return m(),g(l,{lines:"none"},{default:p((()=>[(m(!0),y(N,null,k(t.notifications,(t=>(m(),g(c,{notification:t,key:t.id},null,8,["notification"])))),128))])),_:1})}]]);class Z{constructor(n){t(this,"id",null),t(this,"title",null),t(this,"content",null),t(this,"type",null),t(this,"type_id",null),t(this,"category",null),t(this,"created_at",null),t(this,"notifiable",null),Object.assign(this,n)}}const tt=_("notifications",{state:()=>({notifications:[],fetching:!1}),actions:{async fetchNotifications(){return this.fetching=!0,w.get("/v2/notifications").then((t=>{this.notifications=t.data.data.map((t=>new Z(t)))})).finally((()=>this.fetching=!1))},getGeneralNotifications(){return this.notifications.filter((t=>"Order"!=t.type))},getOrderNotifications(){return this.notifications.filter((t=>"Order"==t.type))}}}),nt=o({components:{IonContent:O,IonLabel:c,KolaYellowButton:H}}),it={class:"ion-padding"},ot=x('<div class="ion-text-center" style="margin-top:2em;"><img src="'+M+'" style="width:150px;height:150px;"></div><div class="ion-text-center ion-margin-bottom"><h5 class="ion-margin-bottom"><b>No Notifications</b></h5><p class="ion-margin-top" style="font-size:0.88em;"> When you have new notifications they will appear here. To get push notifications from Kola, open your phone settings and allow notifications </p></div>',2);const et=o({components:{IonButtons:C,IonButton:L,IonHeader:B,IonContent:O,IonToolbar:j,IonTitle:G,IonLabel:c,IonIcon:e,IonSegment:z,IonSegmentButton:E,GeneralNotifications:$,OrderNotifications:Q,EmptyNotifications:d(nt,[["render",function(t,n,i,o,e,a){const c=u("KolaYellowButton");return m(),y("div",it,[ot,h(c,{style:{"margin-top":"30px"}},{default:p((()=>[S("Enable Notifications")])),_:1})])}]]),IonSpinner:K},data:()=>({viewing:"general",name:null,close:T,refreshOutline:V}),computed:{...Y(tt)},methods:{refresh(){this.notificationsStore.fetchNotifications()},cancel(){D.dismiss(null,"cancel")},onWillDismiss(t){t.detail.role}},mounted(){tt().fetchNotifications()}}),at={class:"ion-padding"},ct=(t=>(W("data-v-1719f3ad"),t=t(),A(),t))((()=>I("b",null,"Notifications",-1))),lt={key:0,class:"ion-padding ion-text-center"},rt={key:1},st={key:1};const ft=d(et,[["render",function(t,n,i,o,e,a){const c=u("IonIcon"),l=u("IonButton"),r=u("ion-buttons"),s=u("ion-title"),f=u("ion-button"),d=u("ion-toolbar"),I=u("ion-header"),b=u("IonSpinner"),v=u("EmptyNotifications"),k=u("IonLabel"),N=u("IonSegmentButton"),_=u("ion-label"),w=u("IonSegment"),O=u("GeneralNotifications"),x=u("OrderNotifications"),C=u("ion-content");return m(),y("section",at,[h(I,{class:"inner-header"},{default:p((()=>[h(d,null,{default:p((()=>[h(r,{slot:"start"},{default:p((()=>[h(l,{onClick:n[0]||(n[0]=n=>t.cancel())},{default:p((()=>[h(c,{icon:t.close},null,8,["icon"])])),_:1})])),_:1}),h(s,{size:"small"},{default:p((()=>[ct])),_:1}),h(r,{slot:"end"},{default:p((()=>[h(f,{onClick:n[1]||(n[1]=n=>t.refresh())},{default:p((()=>[h(c,{icon:t.refreshOutline},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),h(C,{class:"ion-padding-top",fullscreen:!0},{default:p((()=>[t.notificationsStore.fetching?(m(),y("div",lt,[h(b,{name:"crescent"})])):(m(),y("main",rt,[0==t.notificationsStore.notifications.length?(m(),g(v,{key:0})):(m(),y("section",st,[h(w,{value:"personal",mode:"ios",modelValue:t.viewing,"onUpdate:modelValue":n[2]||(n[2]=n=>t.viewing=n)},{default:p((()=>[h(N,{value:"general"},{default:p((()=>[h(k,null,{default:p((()=>[S("General")])),_:1})])),_:1}),h(N,{value:"orders"},{default:p((()=>[h(_,null,{default:p((()=>[S("Orders")])),_:1})])),_:1})])),_:1},8,["modelValue"]),"general"==t.viewing?(m(),g(O,{key:0,notifications:t.notificationsStore.getGeneralNotifications()},null,8,["notifications"])):P("",!0),"orders"==t.viewing?(m(),g(x,{key:1,notifications:t.notificationsStore.getOrderNotifications()},null,8,["notifications"])):P("",!0)]))]))])),_:1})])}],["__scopeId","data-v-1719f3ad"]]),dt=o({components:{IonButton:L,NotificationsModal:ft,IonIcon:e},data:()=>({notificationsOutline:q}),methods:{async showNotifications(){const t=await D.create({component:ft});t.present(),await t.onWillDismiss()}}});n("N",d(dt,[["render",function(t,n,i,o,e,a){const c=u("IonIcon"),l=u("IonButton");return m(),g(l,{onClick:n[0]||(n[0]=n=>t.showNotifications())},{default:p((()=>[h(c,{icon:t.notificationsOutline},null,8,["icon"])])),_:1})}]]))}}}))}();
