import{G as Q,F as R,k as j,j as G,p as M,_ as N,x as v,o as u,c as _,w as e,e as t,g as l,d as O,aj as P,z as S,b as a,ab as m,n as h,t as C,aa as x,H as W,u as Y,y as T,E as U,f as B,aO as X,aN as E,q as L,K as J,ar as Z,ax as tt,A as et,X as at,Y as ot,I as st,h as nt,B as rt,i as lt,N as ct,aS as ut,r as it,W as dt,L as _t,bg as mt}from"./index-f92ce253.js";import{u as A}from"./CartStore-fd5eecd8.js";import{P as pt}from"./ProductQuantitySelector-3a9f81be.js";import{N as ft}from"./NotificationButton-bfbf6cba.js";import{E as It}from"./EmptyCart-ede562e3.js";import{K as vt}from"./KolaYellowButton-490da95d.js";import{b as Ct}from"./Number-6d4d03a9.js";import{I as gt}from"./Image-ab8c6f04.js";import"./Order-423a7fc9.js";import"./Product-5dbe9562.js";import"./BusinessStore-3612150a.js";import"./Date-1419e6d2.js";import"./disappointed-59090e3a.js";import"./shopping-cart-4269a614.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";const Bt={components:{NotificationButton:ft,IonTitle:Q,IonButtons:R,IonHeader:j,IonBackButton:G,IonToolbar:M}};function yt(z,y,p,i,n,f){const o=v("IonBackButton"),I=v("IonButtons"),g=v("IonTitle"),b=v("NotificationButton"),k=v("IonToolbar"),w=v("IonHeader");return u(),_(w,{class:"inner-header"},{default:e(()=>[t(k,{class:"ion-align-items-center"},{default:e(()=>[t(I,{slot:"start"},{default:e(()=>[t(o,{defaultHref:"/shopper/cart/business"})]),_:1}),t(g,{size:"small",class:"fw-bold"},{default:e(()=>[l(" Cart ")]),_:1}),t(I,{slot:"end"},{default:e(()=>[t(b)]),_:1})]),_:1})]),_:1})}const ht=N(Bt,[["render",yt]]),xt=O({__name:"CartTotalCard",setup(z){const y=P(),p=A();p.loadFromStorage();const i=S(()=>p.orders),n=S(()=>{const f=i.value.find(o=>(o==null?void 0:o.businesses_id)==y.params.id);if(f){const o=f.order_items.reduce((I,g)=>I+(g.total_price||0),0);if(o)return o.toFixed(2)}});return(f,o)=>(u(),_(a(W),{class:"custom-card"},{default:e(()=>[t(a(x),{class:"row"},{default:e(()=>[t(a(m),{size:"auto"},{default:e(()=>[t(a(h),{class:"item-text"},{default:e(()=>[l("Item total")]),_:1})]),_:1}),t(a(m),{class:"ion-text-end"},{default:e(()=>[t(a(h),{class:"item-price"},{default:e(()=>[l(C(n.value),1)]),_:1})]),_:1})]),_:1}),t(a(x),{class:"divider-row"},{default:e(()=>[t(a(m),{class:"divider-col"})]),_:1}),t(a(x),{class:"row"},{default:e(()=>[t(a(m),{size:"auto"},{default:e(()=>[t(a(h),{class:"item-text"},{default:e(()=>[l("Delivery")]),_:1})]),_:1}),t(a(m),{class:"ion-text-end"},{default:e(()=>[t(a(h),{class:"item-price"},{default:e(()=>[l("TBD")]),_:1})]),_:1})]),_:1})]),_:1}))}});const bt=N(xt,[["__scopeId","data-v-9838376d"]]),kt={class:"ion-padding"},wt={class:"segment-button"},Tt={class:"text-product"},St={class:"price"},Nt=O({__name:"BusinessCart",setup(z){const y=Y(),p=P(),i=A(),n=T(null),f=S(()=>i.orders);i.loadFromStorage();const o=T("cart"),I=T("cart"),g=(r,c)=>{r.quantity=c,r.total_price=r.quantity*r.product_price},b=r=>{i.removeAtItemIndex(n.value,r)},k=()=>{y.push("/shopper/cart/business/".concat(p.params.id,"/delivery-details"))},w=async()=>{await i.persist();const r=f.value.find(c=>(c==null?void 0:c.businesses_id)==p.params.id);n.value=r};return U(()=>{w()}),(r,c)=>(u(),_(a(lt),null,{default:e(()=>{var V,$;return[B("section",kt,[t(ht)]),t(a(st),{fullscreen:!0,class:"ion-padding-horizontal"},{default:e(()=>{var F,H;return[t(a(X),{value:"personal",mode:"ios",modelValue:o.value,"onUpdate:modelValue":c[0]||(c[0]=d=>o.value=d),class:"segment-margin"},{default:e(()=>[t(a(E),{value:"cart"},{default:e(()=>[B("div",wt,[t(a(L),{class:J({"yellow-circle":I.value==="cart"})},{default:e(()=>[l("Cart")]),_:1},8,["class"]),t(a(Z),null,{default:e(()=>{var d,s;return[l(C((s=(d=n.value)==null?void 0:d.order_items)==null?void 0:s.length),1)]}),_:1})])]),_:1}),t(a(E),{value:"saved"},{default:e(()=>[t(a(L),null,{default:e(()=>[l("Saved")]),_:1})]),_:1})]),_:1},8,["modelValue"]),((H=(F=n.value)==null?void 0:F.order_items)==null?void 0:H.length)<1?(u(),_(It,{key:0})):(u(),_(a(tt),{key:1},{default:e(()=>{var d;return[(u(!0),et(ot,null,at((d=n.value)==null?void 0:d.order_items,(s,K)=>{var q;return u(),_(a(ct),{key:(q=s.product)==null?void 0:q.id},{default:e(()=>[t(a(ut),{slot:"start",class:"custom-thumbnail"},{default:e(()=>[t(gt,{src:s.product_image},null,8,["src"])]),_:2},1024),t(a(x),{class:"item-row"},{default:e(()=>[t(a(m),{size:"10 "},{default:e(()=>[B("p",Tt,C(s.product_name),1),B("p",null,"Quantity: "+C(s.quantity),1),B("p",St,C(s.currency_symbol||"GHS")+" "+C(a(Ct)(s.quantity*(s.product_price||0))),1)]),_:2},1024),t(a(m),{size:"1",class:"remove-button"},{default:e(()=>[t(a(it),{fill:"clear",color:"",onClick:dt(D=>b(K),["prevent","stop"])},{default:e(()=>[t(a(_t),{class:"remove-icon",icon:a(mt)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024),t(pt,{onChange:D=>g(s,D)},null,8,["onChange"])]),_:2},1024)]),_:2},1024)}),128)),t(bt)]}),_:1}))]}),_:1}),(($=(V=n.value)==null?void 0:V.order_items)==null?void 0:$.length)>0?(u(),_(a(nt),{key:0,class:"ion-padding ion-no-border"},{default:e(()=>[t(vt,{onClick:k},{default:e(()=>[l(" Proceed to Checkout ")]),_:1})]),_:1})):rt("",!0)]}),_:1}))}});const Gt=N(Nt,[["__scopeId","data-v-8f7643aa"]]);export{Gt as default};
