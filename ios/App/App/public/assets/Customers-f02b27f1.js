import{d as y,r as k,_ as $,x as I,o as r,c as i,w as o,an as Y,n as x,h as R,A as F,e as t,g as d,b1 as V,b as e,ad as E,q as G,f as g,t as v,ap as H,L as b,aG as O,az as T,I as N,ax as P,N as B,aF as j,aH as A,y as h,E as D,k as w,p as S,F as K,j as U,bp as q,G as M,ar as Q,aI as X,ae as J,ao as W,B as Z,bl as ee,bm as te,aP as L,aQ as z,m as oe,X as se,Y as ne,i as ae,a as le,R as re,S as ue}from"./index-f92ce253.js";import{u as ie}from"./BusinessStore-3612150a.js";import{K as ce}from"./KolaYellowButton-490da95d.js";import{_ as de}from"./disappointed-59090e3a.js";import{I as me}from"./Image-ab8c6f04.js";import"./Product-5dbe9562.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";const _e="/images/user-plus.svg",pe=y({props:[],components:{IonButton:k}});function fe(s,n,c,p,m,C){const _=I("IonButton");return r(),i(_,{expand:"block",class:"kola-green-button",type:"button"},{default:o(()=>[Y(s.$slots,"default",{},void 0,!0)]),_:3})}const ve=$(pe,[["render",fe],["__scopeId","data-v-aed453c9"]]),ge=y({components:{IonText:x,IonFooter:R,KolaYellowButton:ce,KolaGreenButton:ve},computed:{fullPath(){return this.$route.fullPath}},methods:{addCustomer(){this.$router.push("".concat(this.fullPath,"/add-customer"))}}}),he={class:"ion-text-center ion-padding-horizontal"},Ie=V('<div class="ion-text-center ion-margin-bottom" style="margin-top:2em;"><img src="'+de+'" style="width:150px;height:150px;"></div><div class="ion-text-center ion-margin-bottom"><h5 class="ion-margin-bottom"><b>You have no customers</b></h5><p class="ion-margin-top" style="font-size:0.88em;color:#74787c;"> You can start by adding new customers </p></div>',2);function be(s,n,c,p,m,C){const _=I("KolaYellowButton"),f=I("KolaGreenButton"),u=I("IonFooter");return r(),F("div",he,[Ie,t(u,{class:"ion-padding ion-no-border"},{default:o(()=>[t(_,{onClick:n[0]||(n[0]=a=>s.addCustomer()),class:"ion-margin-bottom"},{default:o(()=>[d(" Add Customer ")]),_:1}),t(f,null,{default:o(()=>[d(" Invite customers ")]),_:1})]),_:1})])}const ye=$(ge,[["render",be]]),$e={class:"ion-no-margin"},Ce=y({__name:"CustomersList",props:{customer:{type:Object,default:()=>({})}},setup(s){return(n,c)=>(r(),i(e(B),null,{default:o(()=>[t(e(E),{slot:"start"},{default:o(()=>[t(me,{src:s.customer.logo},null,8,["src"])]),_:1}),t(e(G),null,{default:o(()=>[g("p",$e,v(s.customer.name),1),t(e(x),{color:"medium",class:"font-medium"},{default:o(()=>[d(v(s.customer.location||n.$t("profile.customers.locationUnknown")),1)]),_:1}),t(e(x),null,{default:o(()=>[t(e(H),null,{default:o(()=>[d("new")]),_:1})]),_:1})]),_:1}),t(e(b),{id:"popover-button-".concat(s.customer.id),color:"medium",icon:e(O)},null,8,["id","icon"]),t(e(T),{trigger:"popover-button-".concat(s.customer.id),"dismiss-on-select":!0},{default:o(()=>[t(e(N),{"scroll-y":"false"},{default:o(()=>[t(e(P),null,{default:o(()=>[t(e(B),{lines:"full",button:!0,detail:!1},{default:o(()=>[t(e(b),{icon:e(j)},null,8,["icon"]),d(" "+v(n.$t("profile.customers.updateCustomer")),1)]),_:1}),t(e(B),{lines:"none",button:!0,detail:!1},{default:o(()=>[t(e(b),{icon:e(A)},null,8,["icon"]),d(" "+v(n.$t("profile.customers.removeCustomer")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["trigger"])]),_:1}))}});const Be=$(Ce,[["__scopeId","data-v-d85dda2e"]]),ke=s=>(re("data-v-c4244788"),s=s(),ue(),s),xe={class:"d-flex ion-align-items-center ion-justify-content-center"},we=ke(()=>g("img",{src:_e,alt:""},null,-1)),Se={class:"ion-padding ion-text-center"},Ke=y({__name:"Customers",setup(s){const n=h(!1),c=h(!1),p=h(!1),m=h([]),C=async u=>{c.value=!0,await f(),c.value=!1,u.target.complete()},_=async u=>{c.value=!0,await f({name_like:u.target.value}),c.value=!1},f=async(u={})=>{n.value=!0;const a=le(),l=ie();m.value=await l.getBusinessCustomers(a.activeBusiness,300,u,c.value),n.value=!1};return D(()=>{f()}),(u,a)=>(r(),i(e(ae),null,{default:o(()=>[t(e(w),{class:"ion-padding ion-no-border"},{default:o(()=>[t(e(w),{class:"inner-header"},{default:o(()=>[t(e(S),{class:"ion-align-items-center"},{default:o(()=>[t(e(K),{slot:"start"},{default:o(()=>[t(e(U),{color:"dark",icon:e(q),text:"",style:{"margin-left":"10px"},defaultHref:"/vendor/profile"},null,8,["icon"])]),_:1}),t(e(M),{size:"small",class:"fw-bold"},{default:o(()=>[g("section",xe,[t(e(G),null,{default:o(()=>[d("Customers")]),_:1}),t(e(Q),{class:"badge"},{default:o(()=>[d(v(m.value.length),1)]),_:1})])]),_:1}),t(e(K),{slot:"end"},{default:o(()=>[m.value.length<=0?(r(),i(e(k),{key:0},{default:o(()=>[we]),_:1})):(r(),i(e(k),{key:1,onClick:a[0]||(a[0]=l=>p.value=!p.value),color:"dark"},{default:o(()=>[t(e(b),{icon:e(X)},null,8,["icon"])]),_:1}))]),_:1})]),_:1})]),_:1}),p.value?(r(),i(e(S),{key:0},{default:o(()=>[t(e(J),{placeholder:u.$t("profile.customers.searchCustomers")+"...",class:"search-input",onKeyup:a[1]||(a[1]=W(l=>_(l),["enter"])),onIonChange:a[2]||(a[2]=l=>_(l))},null,8,["placeholder"])]),_:1})):Z("",!0)]),_:1}),t(e(N),null,{default:o(()=>[t(e(ee),{ref:"refresher",slot:"fixed",onIonRefresh:a[3]||(a[3]=l=>C(l))},{default:o(()=>[t(e(te),{pullingIcon:"crescent"})]),_:1},512),L(g("div",Se,[t(e(oe),{name:"crescent"})],512),[[z,n.value]]),L(g("section",null,[m.value.length<=0?(r(),i(ye,{key:0})):(r(),i(e(P),{key:1,lines:"none",class:"ion-padding-horizontal customers-select-list simple"},{default:o(()=>[(r(!0),F(ne,null,se(m.value,l=>(r(),i(Be,{key:l.id,customer:l},null,8,["customer"]))),128))]),_:1}))],512),[[z,!n.value]])]),_:1})]),_:1}))}});const Ve=$(Ke,[["__scopeId","data-v-c4244788"]]);export{Ve as default};
