import{d as g,ap as nt,_ as S,x as o,o as d,A as $,Y as et,X as st,c as m,w as e,g as u,t as c,u as at,e as n,b as _,aq as q,L as D,ar as rt,r as A,i as ct,k as it,p as ut,F as dt,j as lt,G as pt,I as _t,h as mt,ad as ht,ac as It,q as ft,n as Bt,as as gt,ak as St,at as yt,au as bt,al as vt,s as Pt,C as Ct,f as s,B as k,R as Tt,S as wt}from"./index-f92ce253.js";import{u as $t}from"./ProductStore-cdc6633e.js";import{K as kt}from"./KolaYellowButton-490da95d.js";import{K as qt}from"./KolaWhiteButton-71dee6cb.js";import{I as Dt}from"./Image-ab8c6f04.js";import{S as At,a as Ft}from"./swiper-vue-d81855d3.js";import{B as Rt}from"./BusinessRatingAndReviews-1b8f0eef.js";import{B as Kt}from"./BusinessMinimumOrder-66fb2327.js";import{P as Ot}from"./ProductQuantitySelector-3a9f81be.js";import{_ as Ht}from"./FavoriteButton.vue_vue_type_script_setup_true_lang-6575d0e9.js";import{P as Lt}from"./Product-5dbe9562.js";import{u as F}from"./CartStore-fd5eecd8.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./Order-423a7fc9.js";import"./BusinessStore-3612150a.js";const Nt=g({props:{product:{type:Object}},components:{IonChip:nt},data(){return{}}});function Qt(t,a,l,f,y,h){var p;const i=o("IonChip");return d(),$("section",null,[(d(!0),$(et,null,st((p=t.product)==null?void 0:p.tags,I=>(d(),m(i,{key:I.name},{default:e(()=>[u(c(I.name),1)]),_:2},1024))),128))])}const Vt=S(Nt,[["render",Qt]]),Yt=g({__name:"CartStatusButton",props:{product:Lt},setup(t){const a=at(),l=F();l.loadFromStorage();const f=()=>{a.push("/shopper/cart")};return(y,h)=>(d(),m(_(A),{fill:"clear",onClick:h[0]||(h[0]=i=>f())},{default:e(()=>[n(_(D),{slot:"icon-only",icon:_(q)},null,8,["icon"]),n(_(rt),null,{default:e(()=>{var i;return[u(c((i=_(l).items)==null?void 0:i.length),1)]}),_:1})]),_:1}))}});const jt=S(Yt,[["__scopeId","data-v-69c418d6"]]),Et=g({components:{IonPage:ct,IonHeader:it,IonToolbar:ut,IonButtons:dt,IonBackButton:lt,IonTitle:pt,IonButton:A,IonIcon:D,IonContent:_t,IonFooter:mt,KolaYellowButton:kt,KolaWhiteButton:qt,Image:Dt,Swiper:At,SwiperSlide:Ft,IonAvatar:ht,IonSkeletonText:It,IonLabel:ft,BusinessRatingAndReviews:Rt,BusinessMinimumOrder:Kt,IonText:Bt,ProductTags:Vt,ProductQuantitySelector:Ot,FavoriteButton:Ht,CartStatusButton:jt},data(){return{close:gt,heartOutline:St,cartOutline:q,shareOutline:yt,cart:bt,heart:vt,product:null,quantity:0,defaultBanner:"/images/vendor/banner.png"}},computed:{...Pt($t,F),cartHasProduct(){return this.cartStore.hasProduct(this.product)}},methods:{async fetchProductDetails(){var a;const t=+this.$route.params.id;try{this.product=await this.productStore.fetchProduct(t),this.cartHasProduct&&(this.quantity=(a=this.cartStore.getProductItem(this.product))==null?void 0:a.quantity)}catch(l){Ct(l)}},onLoadError(t){t.target.src=this.defaultBanner},updateQuantity(t){this.quantity=t,this.cartStore.updateQuantity(this.product,this.quantity)},async addToCart(){await this.cartStore.addProduct(this.product,this.quantity)}},mounted(){this.fetchProductDetails()}}),Mt="/images/no-image.png";const Wt=t=>(Tt("data-v-29c13a7a"),t=t(),wt(),t),xt={class:"section title-section d-flex ion-align-items-start ion-justify-content-between"},zt={class:"product-name"},Gt={class:"price"},Xt={class:"section business-section"},Jt={class:"d-flex ion-align-items-center"},Ut=Wt(()=>s("img",{src:Mt},null,-1)),Zt={class:"section description-section"},to={class:"section min-order-section"},oo={class:"section product-quantity-selection"},no={class:"section tags"};function eo(t,a,l,f,y,h){const i=o("IonBackButton"),p=o("IonButtons"),I=o("IonTitle"),R=o("FavoriteButton"),K=o("CartStatusButton"),O=o("IonIcon"),H=o("IonButton"),L=o("IonToolbar"),N=o("IonHeader"),Q=o("Image"),V=o("SwiperSlide"),Y=o("Swiper"),j=o("IonAvatar"),E=o("IonLabel"),M=o("BusinessRatingAndReviews"),W=o("IonText"),x=o("BusinessMinimumOrder"),z=o("ProductQuantitySelector"),G=o("ProductTags"),X=o("IonContent"),J=o("IonSkeletonText"),U=o("KolaYellowButton"),Z=o("KolaWhiteButton"),tt=o("IonFooter"),ot=o("IonPage");return d(),m(ot,null,{default:e(()=>[n(N,null,{default:e(()=>[n(L,null,{default:e(()=>[n(p,{slot:"start"},{default:e(()=>[n(i,{defaultHref:"/shopper/home",icon:t.close},null,8,["icon"])]),_:1}),n(I,{size:"small"},{default:e(()=>[u(c(t.$t("shopper.productDetails.productDetails")),1)]),_:1}),n(p,{slot:"end"},{default:e(()=>[n(R,{product:t.product||void 0},null,8,["product"]),n(K,{product:t.product||void 0},null,8,["product"]),n(H,{slot:"icon-only"},{default:e(()=>[n(O,{icon:t.shareOutline},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),t.product?(d(),m(X,{key:0,class:"ion-padding"},{default:e(()=>{var B,b,v,P,C,T;return[s("header",null,[n(Y,null,{default:e(()=>[n(V,null,{default:e(()=>{var r;return[n(Q,{src:(r=t.product)==null?void 0:r.image,style:{"max-height":"200px","border-radius":"10px",overflow:"hidden"}},null,8,["src"])]}),_:1})]),_:1})]),s("main",null,[s("section",xt,[s("span",zt,c((B=t.product)==null?void 0:B.product_name),1),s("span",Gt,c((v=(b=t.product)==null?void 0:b.currency)==null?void 0:v.symbol)+" "+c((P=t.product)==null?void 0:P.product_price),1)]),s("section",Xt,[s("section",Jt,[n(j,null,{default:e(()=>[Ut]),_:1}),n(E,null,{default:e(()=>{var r,w;return[u(c((w=(r=t.product)==null?void 0:r.business)==null?void 0:w.name),1)]}),_:1})]),n(M,{business:(C=t.product)==null?void 0:C.business},null,8,["business"])]),s("section",Zt,[n(W,{color:"medium"},{default:e(()=>{var r;return[u(c(((r=t.product)==null?void 0:r.product_description)||"No Description Available"),1)]}),_:1})]),s("section",to,[n(x,{business:(T=t.product)==null?void 0:T.business},null,8,["business"])]),s("section",oo,[n(z,{onChange:a[0]||(a[0]=r=>t.updateQuantity(r))})]),s("section",no,[n(G,{product:t.product},null,8,["product"])])])]}),_:1})):k("",!0),t.product?k("",!0):(d(),m(J,{key:1,style:{height:"300px"},animated:!0})),n(tt,{class:"ion-padding ion-no-border"},{default:e(()=>[n(U,{class:"ion-margin-bottom"},{default:e(()=>[u(c(t.$t("shopper.productDetails.buyNow")),1)]),_:1}),n(Z,{onClick:a[1]||(a[1]=B=>t.addToCart()),disabled:t.cartHasProduct},{default:e(()=>[u(c(t.$t("shopper.productDetails.addToCart")),1)]),_:1},8,["disabled"])]),_:1})]),_:1})}const yo=S(Et,[["render",eo],["__scopeId","data-v-29c13a7a"]]);export{yo as default};
