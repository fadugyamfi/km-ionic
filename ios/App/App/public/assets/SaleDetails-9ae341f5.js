import{d as B,a3 as U,af as X,s as A,a as Y,H as T,ad as K,J as k,q as G,a9 as M,aa as Q,ab as W,L as j,_ as V,x as o,o as l,c as _,w as t,e as n,g as m,t as p,n as Z,f as $,aI as oo,aJ as no,i as eo,k as to,p as ao,F as so,j as lo,G as ro,r as co,I as io,ax as uo,m as _o,C as mo,A as b,Y as po,X as Io}from"./index-f92ce253.js";import{u as z}from"./SaleStore-6ada4812.js";import{u as fo}from"./BusinessStore-3612150a.js";import{I as Co}from"./Image-ab8c6f04.js";import{S as So}from"./SaleItemView-302c8a46.js";import{N as ho}from"./NoResults-eb849132.js";import"./Product-5dbe9562.js";import"./Date-1419e6d2.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./ProductQuantitySelector-3a9f81be.js";import"./disappointed-59090e3a.js";const go=B({props:{customer:{default:null,type:Object}},data(){return{location:U,locationOutline:X}},computed:{...A(fo,z,Y)},components:{IonCard:T,IonAvatar:K,IonCardContent:k,IonLabel:G,Image:Co,IonGrid:M,IonRow:Q,IonCol:W,IonIcon:j}});function wo(e,s,I,f,C,v){const c=o("Image"),i=o("IonAvatar"),d=o("IonCol"),r=o("IonLabel"),u=o("IonIcon"),g=o("IonRow"),w=o("IonGrid"),y=o("IonCardContent"),h=o("IonCard");return l(),_(h,null,{default:t(()=>[n(y,null,{default:t(()=>[n(w,null,{default:t(()=>[n(g,null,{default:t(()=>[n(d,{size:"auto"},{default:t(()=>[n(i,null,{default:t(()=>{var a;return[n(c,{src:(a=e.customer)==null?void 0:a.logo},null,8,["src"])]}),_:1})]),_:1}),n(d,{class:"d-flex ion-align-items-start ion-justify-content-center flex-column"},{default:t(()=>[n(r,{class:"fw-semibold"},{default:t(()=>{var a;return[m(p((a=e.customer)==null?void 0:a.name),1)]}),_:1}),n(r,{class:"d-flex ion-align-items-center"},{default:t(()=>{var a;return[n(u,{icon:e.locationOutline},null,8,["icon"]),m(" "+p((a=e.customer)==null?void 0:a.location),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const yo=V(go,[["render",wo],["__scopeId","data-v-2e6e87ab"]]),bo=B({props:{sale:{type:Object}},computed:{saleCurrency(){var s,I,f,C;const e=(I=(s=this.sale)==null?void 0:s.sale_items)==null?void 0:I.at(0);return(C=(f=e==null?void 0:e.product)==null?void 0:f.currency)==null?void 0:C.symbol}},components:{IonCard:T,IonCardContent:k,IonText:Z}}),$o={class:"d-flex ion-justify-content-between fw-bold"};function Bo(e,s,I,f,C,v){const c=o("IonText"),i=o("IonCardContent"),d=o("IonCard");return l(),_(d,{class:"ion-margin-top"},{default:t(()=>[n(i,null,{default:t(()=>[$("section",$o,[n(c,null,{default:t(()=>[m(p(e.$t("general.totalCost")),1)]),_:1}),n(c,null,{default:t(()=>{var r,u;return[m(p((u=(r=e.sale)==null?void 0:r.total_sales_price)==null?void 0:u.toLocaleString("en-GB",{style:"currency",currency:e.saleCurrency||"GHS"})),1)]}),_:1})])]),_:1})]),_:1})}const To=V(bo,[["render",Bo]]),ko=B({data(){return{search:oo,arrowBack:no,loading:!1,sale:null}},components:{IonPage:eo,IonHeader:to,IonToolbar:ao,IonButtons:so,IonBackButton:lo,IonTitle:ro,IonButton:co,IonIcon:j,IonContent:io,SaleCustomerView:yo,SaleTotalCostView:To,IonCard:T,IonCardContent:k,IonList:uo,SaleItemView:So,NoResults:ho,IonLabel:G,IonSpinner:_o},computed:{...A(z)},mounted(){this.loadSale()},methods:{async loadSale(){const e=+this.$route.params.id;this.sale=this.saleStore.sales.find(s=>s.id==e);try{this.loading=!0,this.sale=await this.saleStore.fetchSale(e)}catch(s){mo(s)}finally{this.loading=!1}}}}),Vo={class:"ion-padding"},vo={key:0,class:"ion-text-center ion-padding"},Lo={key:1};function Ho(e,s,I,f,C,v){const c=o("IonBackButton"),i=o("IonButtons"),d=o("IonTitle"),r=o("IonIcon"),u=o("IonButton"),g=o("IonToolbar"),w=o("IonHeader"),y=o("SaleTotalCostView"),h=o("IonLabel"),a=o("SaleCustomerView"),O=o("IonSpinner"),D=o("SaleItemView"),P=o("IonList"),q=o("NoResults"),E=o("IonCardContent"),F=o("IonCard"),J=o("IonContent"),x=o("IonPage");return l(),_(x,null,{default:t(()=>[$("section",Vo,[n(w,{class:"inner-header"},{default:t(()=>[n(g,null,{default:t(()=>[n(i,{slot:"start"},{default:t(()=>[n(c,{defaultHref:"/vendor/sales/history",icon:e.arrowBack,mode:"md"},null,8,["icon"])]),_:1}),n(d,{size:"small"},{default:t(()=>{var S;return[$("b",null,p(e.$t("vendor.sales.saleDetails"))+" - #"+p((S=e.sale)==null?void 0:S.id),1)]}),_:1}),n(i,{slot:"end"},{default:t(()=>[n(u,{color:"dark"},{default:t(()=>[n(r,{icon:e.search},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})]),n(J,null,{default:t(()=>{var S;return[n(y,{sale:e.sale},null,8,["sale"]),n(h,{class:"ion-margin-horizontal fw-semibold font-medium"},{default:t(()=>[m("Sold To")]),_:1}),n(a,{customer:(S=e.sale)==null?void 0:S.customer},null,8,["customer"]),n(h,{class:"ion-margin-horizontal fw-semibold font-medium"},{default:t(()=>[m("Items")]),_:1}),n(F,null,{default:t(()=>[n(E,null,{default:t(()=>{var L,H;return[e.loading?(l(),b("section",vo,[n(O,{name:"crescent"})])):(l(),b("section",Lo,[((H=(L=e.sale)==null?void 0:L.sale_items)==null?void 0:H.length)>0?(l(),_(P,{key:0,lines:"full"},{default:t(()=>{var N;return[(l(!0),b(po,null,Io((N=e.sale)==null?void 0:N.sale_items,R=>(l(),_(D,{key:R.products_id,saleItem:R,editable:!1},null,8,["saleItem"]))),128))]}),_:1})):(l(),_(q,{key:1,title:e.$t("vendor.sales.noSaleItemsAvailable"),description:e.$t("vendor.sales.addItemsToSaleToSeeThemHere")},null,8,["title","description"]))]))]}),_:1})]),_:1})]}),_:1})]),_:1})}const Jo=V(ko,[["render",Ho]]);export{Jo as default};
