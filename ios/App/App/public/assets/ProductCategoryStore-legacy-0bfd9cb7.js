!function(){function t(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}System.register(["./index-legacy-cc225d81.js","./Product-legacy-3e97f985.js"],(function(e,r){"use strict";var i,a,o,s;return{setters:[t=>{i=t.a4,a=t.a5,o=t.a6},t=>{s=t.P}],execute:function(){class r{constructor(e){t(this,"id",void 0),t(this,"name",void 0),t(this,"description",void 0),t(this,"created_at",void 0),t(this,"updated_at",void 0),t(this,"image",void 0),Object.assign(this,e)}}e("P",r);const c=new i,n="kola.product-categories";e("u",a("productCategory",{state:()=>({categories:[],selectedCategory:null,categoryProducts:[]}),actions:{async loadFromStorage(){const t=await c.get(n);return t&&(this.categories=t.map((t=>new r(t)))),this.categories},async fetchCategories(){return await this.loadFromStorage(),this.categories.length>0?this.categories:o.get("/v2/product-categories").then((t=>{this.categories=t.data.data.map((t=>new r(t))),c.set(n,this.categories)})).catch((t=>{console.log(t)}))},async getCategories(){return 0==this.categories.length&&await this.fetchCategories(),this.categories},async getCategory(t){return(await this.getCategories()).find((e=>e.id==t))},setSelectedCategory(t){this.selectedCategory=t},async fetchCategoryProducts(t,e=1,r=50){try{const i={product_categories_id:t.id,limit:r,page:e,sort:"latest"},a=await o.get("/v2/products",{params:i});return this.categoryProducts=a.data.data.map((t=>new s(t))),this.categoryProducts}catch(i){return console.log(i),[]}}}}))}}}))}();
