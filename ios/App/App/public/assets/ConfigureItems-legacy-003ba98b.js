System.register(["./index-legacy-cc225d81.js","./Image-legacy-0949e555.js","./ProductQuantitySelector-legacy-b42a82b1.js","./SaleItemView-legacy-7c8f7257.js","./SaleStore-legacy-4abf2d58.js","./KolaYellowButton-legacy-095e43ab.js","./index-legacy-92c3b46a.js","./index-legacy-d3e52be1.js","./Product-legacy-3e97f985.js","./Date-legacy-65bfc294.js"],(function(e,o){"use strict";var t,n,l,a,r,s,u,c,d,i,I,f,g,y,m,_,S,C,v,b,h,w,B,j,p,T,k,x,P,H,L,$,F,K,Y,E,G,U,V,z,J;return{setters:[e=>{t=e.d,n=e.aI,l=e.aJ,a=e.bg,r=e.i,s=e.k,u=e.p,c=e.F,d=e.j,i=e.G,I=e.r,f=e.L,g=e.I,y=e.H,m=e.J,_=e.n,S=e.ax,C=e.N,v=e.aS,b=e.q,h=e.h,w=e.s,B=e.v,j=e.C,p=e._,T=e.x,k=e.o,x=e.c,P=e.w,H=e.f,L=e.e,$=e.t,F=e.g,K=e.A,Y=e.X,E=e.Y},e=>{G=e.I},e=>{U=e.P},e=>{V=e.S},e=>{z=e.u},e=>{J=e.K},null,null,null,null],execute:function(){const o=t({data:()=>({search:n,arrowBack:l,closeCircleOutline:a}),components:{IonPage:r,IonHeader:s,IonToolbar:u,IonButtons:c,IonBackButton:d,IonTitle:i,IonButton:I,IonIcon:f,IonContent:g,IonCard:y,IonCardContent:m,IonText:_,IonList:S,IonItem:C,IonThumbnail:v,Image:G,IonLabel:b,ProductQuantitySelector:U,SaleItemView:V,IonFooter:h,KolaYellowButton:J},computed:{...w(z),cartTotalCost(){var e;return null===(e=this.saleStore.newSale.sale_items)||void 0===e?void 0:e.reduce(((e,o)=>e+(o.total_price||0)),0)},cartCurrency(){var e,o;const t=null===(e=this.saleStore.newSale.sale_items)||void 0===e?void 0:e.at(0);return null==t||null===(o=t.product)||void 0===o||null===(o=o.currency)||void 0===o?void 0:o.symbol}},methods:{async onContinue(){if(!this.cartTotalCost)return void B().showError(this.$t("vendor.sales.cannotProceedWithTotalCostOfZero"),"","bottom","configure-continue");const e=B();e.blockUI();try{await this.saleStore.recordSale()?this.$router.push("/vendor/sales/add-sale/sale-confirmation"):e.showError("Failed to record sale","Error","bottom","configure-continue")}catch(o){j(o)}finally{e.unblockUI()}}}}),O={class:"ion-padding"},Q={class:"d-flex ion-justify-content-between fw-bold"};e("default",p(o,[["render",function(e,o,t,n,l,a){const r=T("IonBackButton"),s=T("IonButtons"),u=T("IonTitle"),c=T("IonIcon"),d=T("IonButton"),i=T("IonToolbar"),I=T("IonHeader"),f=T("IonText"),g=T("IonCardContent"),y=T("IonCard"),m=T("SaleItemView"),_=T("IonList"),S=T("IonContent"),C=T("KolaYellowButton"),v=T("IonFooter"),b=T("IonPage");return k(),x(b,null,{default:P((()=>[H("section",O,[L(I,{class:"ion-no-border"},{default:P((()=>[L(I,{class:"inner-header"},{default:P((()=>[L(i,null,{default:P((()=>[L(s,{slot:"start"},{default:P((()=>[L(r,{defaultHref:"/vendor/sales/add-sale/select-products",icon:e.arrowBack,mode:"md"},null,8,["icon"])])),_:1}),L(u,{size:"small"},{default:P((()=>[H("b",null,$(e.$t("vendor.sales.addSale")),1)])),_:1}),L(s,{slot:"end"},{default:P((()=>[L(d,{color:"dark",style:{opacity:"0"}},{default:P((()=>[L(c,{icon:e.search,color:"dark"},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),L(y,{class:"ion-no-margin ion-margin-top"},{default:P((()=>[L(g,null,{default:P((()=>[H("section",Q,[L(f,null,{default:P((()=>[F($(e.$t("general.totalCost")),1)])),_:1}),L(f,null,{default:P((()=>{var o;return[F($(null===(o=e.cartTotalCost)||void 0===o?void 0:o.toLocaleString("en-GB",{style:"currency",currency:e.cartCurrency||"GHS"})),1)]})),_:1})])])),_:1})])),_:1})])),_:1})]),L(S,null,{default:P((()=>[L(y,null,{default:P((()=>[L(g,null,{default:P((()=>[L(_,{lines:"full"},{default:P((()=>[(k(!0),K(E,null,Y(e.saleStore.newSale.sale_items,(e=>(k(),x(m,{key:e.products_id,saleItem:e},null,8,["saleItem"])))),128))])),_:1})])),_:1})])),_:1})])),_:1}),L(v,{class:"ion-padding ion-no-border"},{default:P((()=>[L(C,{id:"configure-continue",disabled:!e.cartTotalCost,onClick:o[0]||(o[0]=o=>e.onContinue())},{default:P((()=>[F($(e.$t("vendor.sales.recordSale")),1)])),_:1},8,["disabled"])])),_:1})])),_:1})}]]))}}}));
