import{d as _,a9 as N,aa as z,ab as E,ac as G,s as b,_ as g,x as o,o as n,A as a,f as c,t as P,e as t,w as s,g as x,c as d,Y as C,X as I,B as Y,n as V,ad as O,a4 as D,ae as M,b as R,I as F,i as W}from"./index-f92ce253.js";import{S as X}from"./ShopperHeader-3bb3d36f.js";import{S as v,a as B}from"./swiper-vue-d81855d3.js";import{B as j}from"./BusinessCard-a107845a.js";import{u as J}from"./BusinessStore-3612150a.js";import{M as K}from"./ModeToggleCard-70ada14c.js";import{P as Q}from"./ProductCategoryList-4aa35b96.js";import{u as H,P as U}from"./ProductCategoryStore-e7d4d5d2.js";import{B as Z,u as ee}from"./BrandStore-bba5eb0d.js";import{I as q}from"./Image-ab8c6f04.js";import{B as te}from"./BrandCard-586efafd.js";import{P as oe}from"./Product-5dbe9562.js";import{u as se}from"./ProductStore-cdc6633e.js";import{P as ne}from"./ProductCard-5dcd7a90.js";import"./NotificationButton-bfbf6cba.js";import"./Date-1419e6d2.js";import"./KolaYellowButton-490da95d.js";import"./disappointed-59090e3a.js";import"./BusinessRatingAndReviews-1b8f0eef.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./CartStore-fd5eecd8.js";import"./Order-423a7fc9.js";import"./FavoriteButton.vue_vue_type_script_setup_true_lang-6575d0e9.js";const re=_({components:{Swiper:v,SwiperSlide:B,IonGrid:N,IonRow:z,IonCol:E,BusinessCard:j,IonSkeletonText:G},data(){return{backOff:1,suppliers:[],slides:[]}},computed:{...b(J)},methods:{async fetchSuppliers(){this.slides=[];try{this.suppliers=await this.businessStore.getSuppliers();for(let e=0;e<this.suppliers.length;e+=2)this.suppliers[e+1]?this.slides.push([this.suppliers[e],this.suppliers[e+1]]):this.slides.push([this.suppliers[e]])}catch(e){console.log(e),setTimeout(()=>{this.fetchSuppliers(),this.backOff+=1},100*this.backOff)}}},mounted(){this.fetchSuppliers()}});const ae={class:"suppliers-near-you shopper-home-section"},ie={class:"ion-padding-horizontal"},ce={key:0};function pe(e,l,m,$,y,S){const i=o("router-link"),r=o("IonSkeletonText"),p=o("IonCol"),u=o("IonRow"),h=o("IonGrid"),k=o("BusinessCard"),T=o("SwiperSlide"),f=o("Swiper");return n(),a("section",ae,[c("header",ie,[c("h6",null,P(e.$t("shopper.home.suppliersNearYou")),1),t(i,{to:"/shopper/home/suppliers"},{default:s(()=>[x(P(e.$t("shopper.home.viewAll")),1)]),_:1})]),c("main",null,[e.slides.length==0?(n(),a("section",ce,[t(h,null,{default:s(()=>[t(u,null,{default:s(()=>[t(p,null,{default:s(()=>[t(r,{class:"skeleton-card",animated:!0})]),_:1}),t(p,null,{default:s(()=>[t(r,{class:"skeleton-card",animated:!0})]),_:1})]),_:1})]),_:1})])):(n(),d(f,{key:1},{default:s(()=>[(n(!0),a(C,null,I(e.slides,(w,qe)=>(n(),d(T,{key:w},{default:s(()=>[t(h,null,{default:s(()=>[t(u,null,{default:s(()=>[t(p,{size:"6"},{default:s(()=>[t(k,{business:w[0]},null,8,["business"])]),_:2},1024),w[1]?(n(),d(p,{key:0,size:"6"},{default:s(()=>[t(k,{business:w[1]},null,8,["business"])]),_:2},1024)):Y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))])])}const de=g(re,[["render",pe],["__scopeId","data-v-32a7f1b0"]]),le=_({data(){return{categories:[]}},computed:{...b(H)},components:{ProductCategoryList:Q,IonText:V},methods:{async fetchTopCategories(){const e=await this.productCategoryStore.getCategories();this.categories=e.slice(0,4)}},mounted(){this.fetchTopCategories()}}),ue={class:"top-categories shopper-home-section ion-padding-top"},_e={class:"ion-padding-horizontal"},me=c("h6",null,"Top Categories",-1);function he(e,l,m,$,y,S){const i=o("IonText"),r=o("ProductCategoryList");return n(),a("section",ue,[c("header",_e,[me,t(i,{color:"primary","router-link":"/shopper/home/categories"},{default:s(()=>[x(" View all ")]),_:1})]),e.categories.length>0?(n(),d(r,{key:0,categories:e.categories},null,8,["categories"])):Y("",!0)])}const fe=g(le,[["render",he]]),ge=_({props:{brand:{required:!0,type:Z}},components:{IonAvatar:O,Image:q},data(){return{}}});const $e={class:"brand-pill"};function ye(e,l,m,$,y,S){const i=o("Image"),r=o("IonAvatar");return n(),a("section",$e,[t(r,null,{default:s(()=>[t(i,{alt:"brand name",src:e.brand.logo},null,8,["src"])]),_:1}),c("p",null,P(e.brand.name),1)])}const Se=g(ge,[["render",ye],["__scopeId","data-v-cb28ff20"]]),we=_({data(){return{brands:[]}},components:{BrandPill:Se,Swiper:v,SwiperSlide:B,IonText:V,BrandCard:te},computed:{...b(ee)},methods:{viewBrand(e){this.$router.push("/shopper/home/brands/".concat(e.id))},async fetchTopBrands(){const e=await this.brandStore.getBrands();this.brands=e.slice(0,10)}},mounted(){this.fetchTopBrands()}}),Ce={class:"shopper-home-section ion-padding-top"},Ie={class:"ion-padding-horizontal"},be=c("h6",null,"Top Brands",-1);function ke(e,l,m,$,y,S){const i=o("IonText"),r=o("BrandCard"),p=o("SwiperSlide"),u=o("Swiper");return n(),a("section",Ce,[c("header",Ie,[be,t(i,{color:"primary","router-link":"/shopper/home/brands"},{default:s(()=>[x(" View all ")]),_:1})]),t(u,{"slides-per-view":3},{default:s(()=>[(n(!0),a(C,null,I(e.brands,h=>(n(),d(p,{key:h.id},{default:s(()=>[t(r,{brand:h,style:{width:"110px"}},null,8,["brand"])]),_:2},1024))),128))]),_:1})])}const Pe=g(we,[["render",ke]]),L=new D,A="kola.recently-viewed",ve=_({data(){return{products:[]}},components:{Swiper:v,SwiperSlide:B,IonText:V,ProductCard:ne},computed:{...b(se)},methods:{viewProduct(e){this.$router.push("/shopper/home/products/".concat(e.id))},async fetchRecentlyViewedProducts(){const e=await L.get(A);if(e){this.products=e.map(l=>new oe(l));return}this.products=await this.productStore.fetchRecentlyViewedProducts({limit:6}),L.set(A,this.products,5,"minutes")}},mounted(){this.fetchRecentlyViewedProducts()}}),Be={class:"shopper-home-section ion-padding-top"},Te=c("header",{class:"ion-padding-horizontal ion-padding-bottom"},[c("h6",null,"Recently View Products")],-1);function xe(e,l,m,$,y,S){const i=o("ProductCard"),r=o("SwiperSlide"),p=o("Swiper");return n(),a("section",Be,[Te,t(p,{"slides-per-view":2},{default:s(()=>[(n(!0),a(C,null,I(e.products,u=>(n(),d(r,{key:u.id},{default:s(()=>[t(i,{product:u,"show-description":!1},null,8,["product"])]),_:2},1024))),128))]),_:1})])}const Ve=g(ve,[["render",xe]]),Re=_({props:{category:{required:!0,type:U}},components:{IonAvatar:O,Image:q},data(){return{}}});const Le={class:"category-pill"};function Ae(e,l,m,$,y,S){const i=o("Image"),r=o("IonAvatar");return n(),a("section",Le,[t(r,null,{default:s(()=>[t(i,{alt:"category name",src:e.category.image},null,8,["src"])]),_:1}),c("p",null,P(e.category.name),1)])}const Ne=g(Re,[["render",Ae]]),ze=_({components:{IonSearchbar:M,CategoryPill:Ne,Swiper:v,SwiperSlide:B,IonGrid:N,IonRow:z,IonCol:E,IonSkeletonText:G},data(){return{backOff:1,tempPills:["Loading","Loading","Loading","Loading"],categories:[]}},computed:{...b(H)},methods:{async fetchCategories(){this.categories=await this.productCategoryStore.getCategories()},viewCategory(e){this.$router.push("/shopper/home/categories/".concat(e.id))}},mounted(){setTimeout(()=>this.fetchCategories(),300)}});const Ee={class:"ion-no-border"},Ge={key:0};function Ye(e,l,m,$,y,S){const i=o("IonSkeletonText"),r=o("IonCol"),p=o("IonRow"),u=o("IonGrid"),h=o("CategoryPill"),k=o("SwiperSlide"),T=o("Swiper");return n(),a("section",Ee,[e.categories.length==0?(n(),a("section",Ge,[t(u,null,{default:s(()=>[t(p,null,{default:s(()=>[(n(!0),a(C,null,I(e.tempPills,f=>(n(),d(r,{key:f},{default:s(()=>[t(i,{animated:!0,class:"skeleton-pill"})]),_:2},1024))),128))]),_:1})]),_:1})])):(n(),d(T,{key:1,"slides-per-view":4},{default:s(()=>[(n(!0),a(C,null,I(e.categories,f=>(n(),d(k,{key:f.id},{default:s(()=>[t(h,{category:f,onClick:w=>e.viewCategory(f)},null,8,["category","onClick"])]),_:2},1024))),128))]),_:1}))])}const Oe=g(ze,[["render",Ye],["__scopeId","data-v-b96df5db"]]),He={class:"shopper-home-section"},_t=_({__name:"Home",setup(e){return(l,m)=>(n(),d(R(W),null,{default:s(()=>[t(X,{"show-search":!0}),t(R(F),{fullscreen:!0},{default:s(()=>[t(Oe),t(de),c("section",He,[t(K)]),t(fe),t(Pe),t(Ve)]),_:1})]),_:1}))}});export{_t as default};
