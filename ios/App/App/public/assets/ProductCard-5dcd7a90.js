import{d as k,af as v,bc as w,H as b,ag as S,J as B,ah as T,ai as $,L as P,r as A,ac as L,bd as V,_ as F,x as s,o as t,A as i,e as c,w as u,c as l,B as n,W as p,K as q,f as d,t as r}from"./index-f92ce253.js";import{P as H}from"./Product-5dbe9562.js";import{I as O}from"./Image-ab8c6f04.js";import{u as j}from"./CartStore-fd5eecd8.js";import{_ as D}from"./FavoriteButton.vue_vue_type_script_setup_true_lang-6575d0e9.js";const N=k({props:{product:{required:!0,type:H},tall:{default:!1,type:Boolean},showDescription:{default:!0,type:Boolean},showAddToCart:{default:!0,type:Boolean},showAddToFavorites:{default:!0,type:Boolean},showAddToSelected:{default:!1,type:Boolean},initiallySelected:{default:!1,type:Boolean},action:{default:"viewProduct",type:String},business:{defaut:null,type:Object}},data(){return{locationOutline:v,addCircleOutline:w,imgLoaded:!1,selected:!1,noImage:"/images/product-placeholder.png"}},emits:["toggleSelect"],components:{IonCard:b,IonCardHeader:S,IonCardContent:B,IonCardTitle:T,IonCardSubtitle:$,IonIcon:P,IonButton:A,Image:O,IonSkeletonText:L,FavoriteButton:D,IonCheckbox:V},methods:{doAction(){this.action=="viewProduct"&&this.viewProduct(),this.action=="toggleSelect"&&this.toggleSelected()},viewProduct(){this.$router.push("/shopper/products/".concat(this.product.id))},toggleSelected(){this.selected=!this.selected,this.$emit("toggleSelect",{selected:this.selected,product:this.product})},addToCart(){this.business&&!this.product.business&&(this.product.business=this.business),j().addProduct(this.product,1)}},beforeMount(){this.selected=this.initiallySelected}});const z={class:"product-card"},M={class:"d-flex ion-align-items-center ion-justify-content-between"},E={class:"product-title fw-semibold line-clamp"},J={class:"pricing d-flex ion-justify-content-between"},K={class:"ion-text-end"},U={key:0},W={key:1},G={key:2},Q={key:0,class:"product-description"},R={class:"ion-no-margin"};function X(e,o,Y,Z,x,ee){const m=s("FavoriteButton"),g=s("IonCheckbox"),f=s("Image"),h=s("IonSkeletonText"),_=s("IonIcon"),y=s("IonButton"),I=s("IonCardHeader"),C=s("ion-card");return t(),i("section",z,[c(C,{onClick:o[4]||(o[4]=a=>e.doAction())},{default:u(()=>[e.showAddToFavorites?(t(),l(m,{key:0,class:"favorite-button",product:e.product,color:"dark"},null,8,["product"])):n("",!0),e.showAddToSelected?(t(),l(g,{key:1,mode:"ios",onClick:o[0]||(o[0]=p(()=>{},["prevent"])),modelValue:e.selected,"onUpdate:modelValue":o[1]||(o[1]=a=>e.selected=a)},null,8,["modelValue"])):n("",!0),c(f,{class:q(["product-image",{float:!e.imgLoaded}]),alt:e.product.product_name,src:e.product.image,"no-img-src":e.noImage,onLoaded:o[2]||(o[2]=a=>e.imgLoaded=!0)},null,8,["class","alt","src","no-img-src"]),e.imgLoaded?n("",!0):(t(),l(h,{key:2,animated:!0,class:"product-image"})),c(I,null,{default:u(()=>{var a;return[d("section",M,[d("p",E,r(e.product.product_name),1),e.showAddToCart?(t(),l(y,{key:0,fill:"clear",color:"medium",onClick:o[3]||(o[3]=p(oe=>e.addToCart(),["prevent","stop"])),class:"ion-no-padding ion-no-margin"},{default:u(()=>[c(_,{size:"large",slot:"icon-only",icon:e.addCircleOutline},null,8,["icon"])]),_:1})):n("",!0)]),d("section",J,[d("span",null,r((a=e.product.currency)==null?void 0:a.symbol)+" "+r(e.product.product_price),1),d("span",K,[e.product.weight_value?(t(),i("span",U,r(e.product.weight_value)+"kg",1)):n("",!0),e.product.weight_value&&e.product.group_quantity?(t(),i("span",W,"/")):n("",!0),e.product.group_quantity?(t(),i("span",G,r(e.product.group_quantity)+"pcs",1)):n("",!0)])]),e.showDescription&&e.product.product_description?(t(),i("section",Q,[d("p",R,r(e.product.product_description),1)])):n("",!0)]}),_:1})]),_:1})])}const re=F(N,[["render",X],["__scopeId","data-v-150a97a7"]]);export{re as P};
