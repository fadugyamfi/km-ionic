import{d as $,m as k,s as N,_ as x,x as w,o as t,A as c,Y as b,X as B,B as p,c as f,aj as V,y,E as A,w as i,f as I,e,b as s,p as v,F as C,j as T,G as L,t as R,k as j,ae as E,ao as F,I as H,i as K}from"./index-f92ce253.js";import{u as S}from"./BusinessStore-3612150a.js";import{B as Y}from"./BusinessCard-a107845a.js";import{N as z}from"./NotificationButton-bfbf6cba.js";import{N as D}from"./NoResults-eb849132.js";import"./Product-5dbe9562.js";import"./Image-ab8c6f04.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./BusinessRatingAndReviews-1b8f0eef.js";import"./Date-1419e6d2.js";import"./KolaYellowButton-490da95d.js";import"./disappointed-59090e3a.js";const G=$({props:{businesses:{default:[],type:Array}},data(){return{leftColumnItems:[],rightColumnItems:[]}},components:{BusinessCard:Y,IonSpinner:k},computed:{...N(S)},methods:{fillColumns(){this.leftColumnItems=this.businesses.filter((n,l)=>l%2===0),this.rightColumnItems=this.businesses.filter((n,l)=>l%2!==0)}},watch:{businesses:function(n,l){n&&this.fillColumns()}}});const M={class:"business-list d-flex"},P={key:0,class:"d-flex flex-column ion-align-items-stretch"},U={key:1,class:"d-flex flex-column ion-align-items-stretch"};function X(n,l,g,d,_,u){const r=w("BusinessCard");return t(),c("section",M,[n.leftColumnItems.length>0?(t(),c("section",P,[(t(!0),c(b,null,B(n.leftColumnItems,(o,a)=>(t(),f(r,{class:"ion-margin-bottom",key:o.id,business:o,tall:a%2===0,"data-index":a},null,8,["business","tall","data-index"]))),128))])):p("",!0),n.rightColumnItems.length>0?(t(),c("section",U,[(t(!0),c(b,null,B(n.rightColumnItems,(o,a)=>(t(),f(r,{class:"ion-margin-bottom",key:o.id,business:o,tall:a%2!==0,"data-index":a},null,8,["business","tall","data-index"]))),128))])):p("",!0)])}const q=x(G,[["render",X]]),J={class:"ion-padding"},O={key:0,class:"ion-text-center"},Q=$({__name:"Businesses",setup(n){const l=S(),g=V(),d=y([]),_=g.meta,u=y(!1),r={term:""};async function o(){u.value!=!0&&(u.value=!0,_.businessType=="supplier"?d.value=await l.getSuppliers(r.term):d.value=await l.getBusinesses(r.term),u.value=!1)}return A(()=>o()),(a,m)=>(t(),f(s(K),null,{default:i(()=>[I("section",J,[e(s(j),{class:"inner-header"},{default:i(()=>[e(s(v),{class:"ion-align-items-center"},{default:i(()=>[e(s(C),{slot:"start"},{default:i(()=>[e(s(T),{defaultHref:"/shopper/home"})]),_:1}),e(s(L),{size:"small"},{default:i(()=>[I("b",null,R(s(_).title||a.$t("general.businesses")),1)]),_:1}),e(s(C),{slot:"end"},{default:i(()=>[e(z)]),_:1})]),_:1})]),_:1}),e(s(v),{style:{"margin-top":"5px"}},{default:i(()=>[e(s(E),{class:"search-input",placeholder:"Search...",modelValue:r.term,"onUpdate:modelValue":m[0]||(m[0]=h=>r.term=h),onIonChange:m[1]||(m[1]=h=>o()),onKeyup:m[2]||(m[2]=F(h=>o(),["enter"]))},null,8,["modelValue"])]),_:1})]),e(s(H),null,{default:i(()=>[u.value?(t(),c("div",O,[e(s(k),{name:"crescent"})])):p("",!0),e(q,{businesses:d.value},null,8,["businesses"]),!u.value&&d.value.length==0?(t(),f(D,{key:1,title:a.$t("shopper.businesses.noResultsAvailable"),description:a.$t("shopper.businesses.pleaseTryYourSearchAgain")},null,8,["title","description"])):p("",!0)]),_:1})]),_:1}))}});const ce=x(Q,[["__scopeId","data-v-5c0617dc"]]);export{ce as default};
