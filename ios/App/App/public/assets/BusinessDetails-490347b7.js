import{d as h,L as N,n as w,am as S,af as C,_ as b,x as e,o as a,A as d,e as n,w as t,g as B,t as p,ap as x,Y as D,X as L,c as I,m as J,s as O,f as o,B as F,z as K,an as Q,W as Z,b as ss,r as es,ad as ns,i as os,I as ts,k as is,p as as,F as rs,j as cs,G as us,C as ls}from"./index-f92ce253.js";import{N as ds}from"./NotificationButton-bfbf6cba.js";import{B as ps}from"./BusinessRatingAndReviews-1b8f0eef.js";import{B as _s}from"./BusinessMinimumOrder-66fb2327.js";import{T as ms}from"./Product-5dbe9562.js";import{u as fs}from"./ProductStore-cdc6633e.js";import{S as P,a as j}from"./swiper-vue-d81855d3.js";import{P as E}from"./ProductCard-5dcd7a90.js";import{u as R}from"./BusinessStore-3612150a.js";import"./Date-1419e6d2.js";import"./KolaYellowButton-490da95d.js";import"./disappointed-59090e3a.js";import"./Image-ab8c6f04.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./CartStore-fd5eecd8.js";import"./Order-423a7fc9.js";import"./FavoriteButton.vue_vue_type_script_setup_true_lang-6575d0e9.js";const hs=h({props:{business:{type:Object}},components:{IonIcon:N,IonText:w,Business:S},setup(){return{locationOutline:C}},data(){return{location}}});const bs={class:"d-flex ion-align-items-center"};function Bs(s,i,_,m,f,u){const c=e("IonIcon"),r=e("IonText");return a(),d("section",bs,[n(c,{icon:s.locationOutline},null,8,["icon"]),n(r,{style:{color:"#728087"}},{default:t(()=>{var l;return[B(p(((l=s.business)==null?void 0:l.location)||"No Description Available"),1)]}),_:1})])}const gs=b(hs,[["render",Bs],["__scopeId","data-v-fab19455"]]),Is=h({props:{business:{type:Object}},components:{IonText:w,Business:S}});function vs(s,i,_,m,f,u){const c=e("IonText");return a(),d("section",null,[n(c,null,{default:t(()=>{var r;return[B(p(((r=s.business)==null?void 0:r.deliveryTime)||"Fulfills orders within 1-3 days"),1)]}),_:1})])}const $s=b(Is,[["render",vs]]),ws=h({props:{business:{type:Object}},components:{IonChip:x},data(){return{defaultTags:[new ms({name:"Eco-friendly"})]}}});function ys(s,i,_,m,f,u){var r;const c=e("IonChip");return a(),d("section",null,[(a(!0),d(D,null,L(((r=s.business)==null?void 0:r.tags)||s.defaultTags,l=>(a(),I(c,{key:l.name},{default:t(()=>[B(p(l.name),1)]),_:2},1024))),128))])}const Ts=b(ws,[["render",ys],["__scopeId","data-v-1c01552c"]]),Ss=h({props:{business:{type:Object}},data(){return{fetching:!1,products:[]}},components:{Swiper:P,SwiperSlide:j,IonText:w,ProductCard:E,IonSpinner:J},computed:{...O(fs)},methods:{viewProduct(s){this.$router.push("/shopper/home/products/".concat(s.id))},async fetchNewArrivals(){var s;this.fetching=!0,this.products=await this.productStore.fetchProducts({businesses_id:(s=this.business)==null?void 0:s.id,limit:6,sort:"latest"}),this.fetching=!1}},watch:{business:function(s,i){s&&this.fetchNewArrivals()}}}),ks={class:"shopper-home-section ion-padding-top"},As={class:"ion-padding-horizontal ion-padding-bottom"},Fs={key:0,class:"ion-text-center"};function Ns(s,i,_,m,f,u){const c=e("IonText"),r=e("IonSpinner"),l=e("ProductCard"),y=e("SwiperSlide"),T=e("Swiper");return a(),d("section",ks,[o("header",As,[o("h6",null,p(s.$t("shopper.home.newArrivals")),1),n(c,{color:"primary","router-link":"/shopper/home/businesses/".concat(s.$route.params.id,"/products")},{default:t(()=>[B(p(s.$t("shopper.home.showAll")),1)]),_:1},8,["router-link"])]),s.fetching?(a(),d("p",Fs,[n(r,{name:"crescent"})])):F("",!0),s.fetching?F("",!0):(a(),I(T,{key:1,"slides-per-view":2},{default:t(()=>[(a(!0),d(D,null,L(s.products,v=>(a(),I(y,{key:v.id},{default:t(()=>[n(l,{product:v,"show-description":!1},null,8,["product"])]),_:2},1024))),128))]),_:1}))])}const Cs=b(Ss,[["render",Ns]]),Ds=h({__name:"FollowButton",props:{business:{type:Object}},setup(s){const i=s,_=R(),m=K(()=>{var u;return(u=i.business)!=null&&u.favorited?"Unfollow":"Follow"}),f=()=>{i.business&&(m.value==="Follow"?_.addToFavorites(i.business):_.removeFromFavorites(i.business))};return(u,c)=>(a(),I(ss(es),{class:"kola-white-button",type:"button",fill:"clear",onClick:c[0]||(c[0]=Z(r=>f(),["stop"]))},{default:t(()=>[Q(u.$slots,"default",{},()=>[B(p(m.value),1)],!0)]),_:3}))}});const Ls=b(Ds,[["__scopeId","data-v-ccd952c3"]]),Os=h({data(){return{defaultBanner:"/images/vendor/banner.png",business:null,locationOutline:C}},components:{IonAvatar:ns,IonPage:os,IonContent:ts,IonHeader:is,IonToolbar:as,IonButtons:rs,IonBackButton:cs,IonTitle:us,Business:S,BusinessRatingAndReviews:ps,BusinessLocation:gs,BusinessMinimumOrder:_s,BusinessTags:Ts,BusinessDeliveryTime:$s,BusinessNewArrival:Cs,Swiper:P,SwiperSlide:j,ProductCard:E,FollowButton:Ls,NotificationButton:ds,IonIcon:N,IonText:w},computed:{...O(R)},methods:{async fetchBusinessDetails(){const s=+this.$route.params.id;try{this.business=await this.businessStore.getBusiness(s)}catch(i){ls(i)}},onLoadError(s){s.target.src=this.defaultBanner}},mounted(){this.business=this.businessStore.getSelectedForViewing(),this.fetchBusinessDetails()}});const Ps={class:"ion-padding"},js={class:"banner"},Es=["src"],Rs=["src"],Vs={key:1,class:"initials"},zs={class:"section title-section d-flex ion-align-items-center ion-justify-content-between"},Hs={class:"product-name"},Ms={class:"section review"},qs={class:"section"},Gs={class:"section"},Us={class:"section"},Ws={class:"section tags"},Xs={class:"section arrival-section"};function Ys(s,i,_,m,f,u){const c=e("IonBackButton"),r=e("IonButtons"),l=e("IonTitle"),y=e("NotificationButton"),T=e("IonToolbar"),v=e("IonHeader"),V=e("IonAvatar"),z=e("FollowButton"),H=e("BusinessRatingAndReviews"),M=e("BusinessLocation"),q=e("BusinessMinimumOrder"),G=e("BusinessDeliveryTime"),U=e("BusinessTags"),W=e("BusinessNewArrival"),X=e("ion-content"),Y=e("ion-page");return a(),I(Y,null,{default:t(()=>[o("section",Ps,[n(v,{class:"inner-header"},{default:t(()=>[n(T,{class:"ion-align-items-center"},{default:t(()=>[n(r,{slot:"start"},{default:t(()=>[n(c,{defaultHref:"/shopper/home"})]),_:1}),n(l,{size:"small",class:"fw-bold"},{default:t(()=>{var g;return[B(p((g=s.business)==null?void 0:g.name),1)]}),_:1}),n(r,{slot:"end"},{default:t(()=>[n(y)]),_:1})]),_:1})]),_:1})]),n(X,{fullscreen:!0},{default:t(()=>{var g;return[o("section",js,[o("img",{src:s.defaultBanner,onError:i[0]||(i[0]=(...$)=>s.onLoadError&&s.onLoadError(...$))},null,40,Es),o("aside",null,[n(V,{size:"medium"},{default:t(()=>{var $,k,A;return[($=s.business)!=null&&$.logo?(a(),d("img",{key:0,src:(k=s.business)==null?void 0:k.logo,alt:"Business Logo"},null,8,Rs)):(a(),d("span",Vs,p((A=s.business)==null?void 0:A.getInitials(2)),1))]}),_:1})])]),o("main",null,[o("section",zs,[o("span",Hs,p((g=s.business)==null?void 0:g.name),1),n(z,{business:s.business},null,8,["business"])]),o("section",Ms,[n(H,{business:s.business},null,8,["business"])]),o("section",qs,[n(M,{business:s.business},null,8,["business"])]),o("section",Gs,[n(q,{business:s.business},null,8,["business"])]),o("section",Us,[n(G,{business:s.business},null,8,["business"])]),o("section",Ws,[n(U,{business:s.business},null,8,["business"])]),o("section",Xs,[n(W,{business:s.business},null,8,["business"])])])]}),_:1})]),_:1})}const _e=b(Os,[["render",Ys],["__scopeId","data-v-eb2dfe15"]]);export{_e as default};
