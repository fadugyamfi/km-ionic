import{d as b,y as m,a as I,u as N,z as P,v as k,c as d,w as a,b as e,o as r,e as n,p as B,j as V,k as C,A as f,t as u,B as h,f as _,I as S,m as w,n as x,g as E,h as T,i as $,C as A}from"./index-f92ce253.js";import{K as Y}from"./KolaYellowButton-490da95d.js";import{P as j}from"./PhoneInput-d6078719.js";const z={key:0},K={key:1},R={style:{"font-size":"14px"}},U={style:{"margin-top":"50px"}},G=b({__name:"PhoneNumberVerify",setup(q){let l=m(!1);const i=I(),c=N(),s=m(null),g=P(()=>s.value&&s.value.length>0),v=k(),y=async()=>{l.value=!0,i.verifyPhoneNumber({phone_number:s.value}).then(t=>{const o=t.data;!o.two_factor_auth_sent&&o.has_pin_number?(c.push("/auth/login"),v.showError("Account already exists. Please login to continue")):c.push("/auth/verify-otp")}).catch(t=>{A(t)}).finally(()=>l.value=!1)};return(t,o)=>(r(),d(e($),null,{default:a(()=>[n(e(C),{class:"ion-no-border"},{default:a(()=>[n(e(B),null,{default:a(()=>[n(e(V),{slot:"start"})]),_:1})]),_:1}),n(e(S),{class:"ion-padding"},{default:a(()=>[e(i).resettingPIN==!0?(r(),f("h3",z,u(t.$t("auth.resetPin.resettingYourPIN")),1)):h("",!0),e(i).resettingPIN!=!0?(r(),f("h3",K,u(t.$t("general.phoneNumber")),1)):h("",!0),_("p",R,u(t.$t("auth.verifyNumber.pleaseEnterYourPhoneNumberToProceed")),1),_("div",U,[n(j,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=p=>s.value=p)},null,8,["modelValue"])])]),_:1}),n(e(T),{class:"ion-padding"},{default:a(()=>[n(Y,{disabled:!g.value,onClick:o[1]||(o[1]=p=>y())},{default:a(()=>[e(l)?(r(),d(e(w),{key:0,name:"crescent"})):(r(),d(e(x),{key:1},{default:a(()=>[E(u(t.$t("general.continue")),1)]),_:1}))]),_:1},8,["disabled"])]),_:1})]),_:1}))}});export{G as default};
