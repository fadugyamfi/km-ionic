import{d as w,af as V,L as q,n as y,am as G,_ as g,o as r,A as l,f as e,t as d,B as S,R as M,S as U,m as W,s as X,x as t,e as n,w as a,g as k,c as B,Y,X as J,z as K,an as Q,W as Z,b as x,r as oo,ad as to,i as no,I as eo,k as so,p as ao,F as ro,j as io,G as co,C as lo}from"./index-f92ce253.js";import{N as po}from"./NotificationButton-bfbf6cba.js";import{u as uo}from"./ProductStore-cdc6633e.js";import{S as F,a as N}from"./swiper-vue-d81855d3.js";import{B as T,u as C}from"./BrandStore-bba5eb0d.js";import{P}from"./ProductCard-5dcd7a90.js";import"./Date-1419e6d2.js";import"./KolaYellowButton-490da95d.js";import"./disappointed-59090e3a.js";import"./Product-5dbe9562.js";import"./Image-ab8c6f04.js";import"./index-bde9bf13.js";import"./index-ee3c01c5.js";import"./CartStore-fd5eecd8.js";import"./Order-423a7fc9.js";import"./BusinessStore-3612150a.js";import"./FavoriteButton.vue_vue_type_script_setup_true_lang-6575d0e9.js";const _o=w({props:{business:{type:Object},showReviews:{type:Boolean,default:!0}},data(){return{locationOutline:V}},components:{IonIcon:q,IonText:y,Business:G}});const E=o=>(M("data-v-94e0959d"),o=o(),U(),o),mo={class:"rating-and-reviews"},fo={class:"rating"},ho=E(()=>e("span",null,d(1),-1)),bo=E(()=>e("span",null,"⭐",-1)),Bo={key:0,class:"reviews larger-text"};function wo(o,s,p,m,f,c){var i;return r(),l("section",mo,[e("section",fo,[ho,bo,o.showReviews?(r(),l("span",Bo,d(((i=o.business)==null?void 0:i.reviews_count)||0)+" Reviews",1)):S("",!0)])])}const go=g(_o,[["render",wo],["__scopeId","data-v-94e0959d"]]),vo=w({props:{brand:{required:!0,type:Object}},data(){return{fetching:!1,products:[]}},components:{Swiper:F,SwiperSlide:N,IonText:y,ProductCard:P,Brand:T,IonSpinner:W},computed:{...X(uo)},methods:{viewProduct(o){this.$router.push("/shopper/home/products/".concat(o.id))},async fetchBrandProducts(){var o;this.fetching=!0,this.products=await this.productStore.fetchProducts({brands_id:(o=this.brand)==null?void 0:o.id,limit:10,sort:"latest"}),this.fetching=!1}},watch:{brand:function(o,s){o&&this.fetchBrandProducts()}}}),Io={class:"shopper-home-section ion-padding-top"},$o={class:"ion-padding-horizontal ion-padding-bottom"},So={key:0,class:"ion-text-center"};function yo(o,s,p,m,f,c){const i=t("IonText"),u=t("IonSpinner"),v=t("ProductCard"),I=t("SwiperSlide"),$=t("Swiper");return r(),l("section",Io,[e("header",$o,[e("h6",null,d(o.$t("shopper.home.newArrivals")),1),n(i,{color:"primary","router-link":"/shopper/home/brands/".concat(o.$route.params.id,"/products")},{default:a(()=>[k(d(o.$t("shopper.home.showAll")),1)]),_:1},8,["router-link"])]),o.fetching?(r(),l("p",So,[n(u,{name:"crescent"})])):S("",!0),o.fetching?S("",!0):(r(),B($,{key:1,"slides-per-view":2},{default:a(()=>[(r(!0),l(Y,null,J(o.products,h=>(r(),B(I,{key:h.id},{default:a(()=>[n(v,{product:h,"show-description":!1},null,8,["product"])]),_:2},1024))),128))]),_:1}))])}const ko=g(vo,[["render",yo]]),Ao=w({__name:"FollowButton",props:{brand:{type:Object}},setup(o){const s=o,p=C(),m=K(()=>{var c;return(c=s.brand)!=null&&c.favorited?"Unfollow":"Follow"}),f=()=>{s.brand&&(s.brand.favorited?p.removeFromFavorites(s.brand):p.addToFavorites(s.brand))};return(c,i)=>(r(),B(x(oo),{class:"kola-white-button",type:"button",fill:"clear",onClick:i[0]||(i[0]=Z(u=>f(),["stop"]))},{default:a(()=>[Q(c.$slots,"default",{},()=>[k(d(m.value),1)],!0)]),_:3}))}});const Ro=g(Ao,[["__scopeId","data-v-9b495edf"]]),Fo=w({data(){return{defaultBanner:"/images/vendor/banner.png",brand:null,brandStore:C()}},components:{IonAvatar:to,IonPage:no,IonContent:eo,IonHeader:so,IonToolbar:ao,IonButtons:ro,IonBackButton:io,IonTitle:co,Brand:T,BrandRatingAndReviews:go,BrandNewArrival:ko,Swiper:F,SwiperSlide:N,IonText:y,ProductCard:P,NotificationButton:po,FollowButton:Ro},methods:{async fetchBrandDetails(){const o=+this.$route.params.id;try{this.brand=await this.brandStore.getBrand(o)}catch(s){lo(s)}},onLoadError(o){o.target.src=this.defaultBanner}},mounted(){this.fetchBrandDetails()}});const No={class:"ion-padding"},To={class:"banner"},Co=["src"],Po=["src"],Eo={key:1,class:"initials"},Lo={class:"section title-section d-flex ion-align-items-center ion-justify-content-between"},jo={class:"product-name"},Do={class:"section"},zo={class:"section arrival-section"};function Ho(o,s,p,m,f,c){const i=t("IonBackButton"),u=t("IonButtons"),v=t("IonTitle"),I=t("NotificationButton"),$=t("IonToolbar"),h=t("IonHeader"),L=t("IonAvatar"),j=t("FollowButton"),D=t("BrandRatingAndReviews"),z=t("BrandNewArrival"),H=t("ion-content"),O=t("ion-page");return r(),B(O,null,{default:a(()=>[e("section",No,[n(h,{class:"inner-header"},{default:a(()=>[n($,{class:"ion-align-items-center"},{default:a(()=>[n(u,{slot:"start"},{default:a(()=>[n(i,{defaultHref:"/shopper/home"})]),_:1}),n(v,{size:"small",class:"fw-bold"},{default:a(()=>{var _;return[k(d((_=o.brand)==null?void 0:_.name),1)]}),_:1}),n(u,{slot:"end"},{default:a(()=>[n(I)]),_:1})]),_:1})]),_:1})]),n(H,{fullscreen:!0},{default:a(()=>{var _;return[e("section",To,[e("img",{src:o.defaultBanner,onError:s[0]||(s[0]=(...b)=>o.onLoadError&&o.onLoadError(...b))},null,40,Co),e("aside",null,[n(L,{size:"medium"},{default:a(()=>{var b,A,R;return[(b=o.brand)!=null&&b.logo?(r(),l("img",{key:0,src:(A=o.brand)==null?void 0:A.logo,alt:"Brand Logo"},null,8,Po)):(r(),l("span",Eo,d((R=o.brand)==null?void 0:R.getInitials(2)),1))]}),_:1})])]),e("main",null,[e("section",Lo,[e("span",jo,d((_=o.brand)==null?void 0:_.name),1),n(j,{brand:o.brand},null,8,["brand"])]),e("section",Do,[n(D,{brand:o.brand},null,8,["brand"])]),e("section",zo,[n(z,{brand:o.brand},null,8,["brand"])])])]}),_:1})]),_:1})}const et=g(Fo,[["render",Ho],["__scopeId","data-v-f187ba62"]]);export{et as default};
