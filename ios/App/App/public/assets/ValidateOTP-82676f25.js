import{d as C,y as v,u as I,z as O,a as k,x as B,c as d,w as t,b as e,o as c,e as n,p as w,j as x,k as N,f,t as l,I as S,m as T,n as V,g as $,h as P,i as j}from"./index-f92ce253.js";import{K as z}from"./KolaYellowButton-490da95d.js";const E={style:{"font-size":"0.9em"}},F={class:"ion-justify-content-center",style:{display:"flex","margin-top":"50px"}},D=C({__name:"ValidateOTP",setup(K){let i=v(!1);const r=I(),a=v(""),m=O(()=>a.value&&a.value.length==6),h=()=>{},_=()=>{},o=k(),g=async()=>{i.value=!0,o.verifyOtp({phone_number:o.verification.phone_number,code:a.value}).then(s=>o.resettingPIN?r.push("/auth/reset-pin"):o.registering?o.registrationFlow=="buy"?r.push("/signup/shopper"):r.push("/signup/vendor/summary"):r.push("/shopper/home")).finally(()=>{i.value=!1})};return(s,u)=>{const y=B("v-otp-input");return c(),d(e(j),null,{default:t(()=>[n(e(N),{class:"ion-no-border"},{default:t(()=>[n(e(w),null,{default:t(()=>[n(e(x),{slot:"start"})]),_:1})]),_:1}),n(e(S),{class:"ion-padding"},{default:t(()=>{var p;return[f("h3",null,l(s.$t("auth.validateOtp.verifyNumber")),1),f("p",E,l(s.$t("auth.validateOtp.codeSent",{number:(p=e(o).verification.response)==null?void 0:p.phone_number}))+". "+l(s.$t("auth.validateOtp.pleaseEnterCode")),1),f("div",F,[n(y,{ref:"otpInput",value:a.value,"onUpdate:value":u[0]||(u[0]=b=>a.value=b),conditionalClass:["one","two","three","four"],"num-inputs":6,placeholder:["*","*","*","*","*","*","*","*"],"should-auto-focus":!0,"input-classes":"otp-input-field","input-type":"number",required:"",separator:"    ",onOnChange:h,onOnComplete:_},null,8,["value"])])]}),_:1}),n(e(P),{class:"ion-padding"},{default:t(()=>[n(z,{disabled:!m.value,onClick:u[1]||(u[1]=p=>g())},{default:t(()=>[e(i)?(c(),d(e(T),{key:0,name:"crescent"})):(c(),d(e(V),{key:1},{default:t(()=>[$(l(s.$t("general.continue")),1)]),_:1}))]),_:1},8,["disabled"])]),_:1})]),_:1})}}});export{D as default};
